#include "updateAddHTLC_m.h"
#include "updateFulfillHTLC_m.h"
#include "updateFailHTLC_m.h"

class HTLC {

public:
    std::string _type;
    std::string _source;
    std::string _paymentHash;
    std::string _preImage;
    std::string _errorReason;
    double _value;

    HTLC(UpdateAddHTLC *htlc);
    HTLC(UpdateFulfillHTLC *htlc);
    HTLC(UpdateFailHTLC *htlc);
};

HTLC::HTLC(UpdateAddHTLC *htlc) {
    _type = "UPDATE_ADD_HTLC";
    _source = htlc->getSource();
    _paymentHash = htlc->getPaymentHash();
    _value = htlc->getValue();
}

HTLC::HTLC(UpdateFulfillHTLC *htlc) {
    _type = "UPDATE_FULFILL_HTLC";
    _paymentHash = htlc->getPaymentHash();
    _preImage = htlc->getPreImage();
}

HTLC::HTLC(UpdateFailHTLC *htlc) {
    _type = "UPDATE_FAIL_HTLC";
    _paymentHash = htlc->getPaymentHash();
    _errorReason = htlc->getErrorReason();
}
